<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">



    <title>Scorey</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">

    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="js/collapse.js"></script>

</head>

<body>

<div class="container">

    <div class="masthead">

    </div>

    <!-- Jumbotron -->
    <div class="jumbotron">
        <h1 id="logo-text" class="logo" onclick="$('#logo-big').show();$('#logo-text').hide();">#Scorey</h1>
        <img id="logo-big" src="logo-big.png" width="600px" />
        <img id="logo-small" src="logo.png" />

            <div class="form-group">
                <div class="input-group">


                    <input class="form-control input-lg" type="text" placeholder="" id="search" />

                    <span class="glyphicon glyphicon-search input-group-addon" id="submit" style="cursor: hand"/>

                </div>
            </div>

    </div>

    <div class="row" id="result-div">
        <h3 class="box-title">Results</h3>
        <div class="panel-group" id="accordion">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseDisplay">
                            <div class="progress">
                                <div id="progress-display" class="progress-bar progress-bar-success" style="width: 80%;font-size: 20px;padding-top: 5px">
                                    Display - 8/10
                                </div>
                            </div>
                        </a>
                    </h4>
                </div>
                <div id="collapseDisplay" class="panel-collapse collapse">
                    <div class="panel-body">
                        <table class="table table-striped" id="table-display">
                            <tr><th>Article</th><th>Score</th></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseBattery">
                            <div class="progress">
                                <div id="progress-battery" class="progress-bar progress-bar-warning" style="width: 50%;font-size: 20px;padding-top: 5px">
                                    Battery - 5/10
                                </div>
                            </div>
                        </a>
                    </h4>
                </div>
                <div id="collapseBattery" class="panel-collapse collapse">
                    <div class="panel-body">
                        <table class="table table-striped" id="table-battery">
                            <tr><th>Article</th><th>Score</th></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapsePerfarmance">
                            <div class="progress">
                                <div id="progress-performance" class="progress-bar progress-bar-danger" style="width: 30%;font-size: 20px;padding-top: 5px">
                                    Performance - 3/10
                                </div>
                            </div>
                        </a>
                    </h4>
                </div>
                <div id="collapsePerfarmance" class="panel-collapse collapse">
                    <div class="panel-body">
                        <table class="table table-striped" id="table-performance">
                            <tr><th>Article</th><th>Score</th></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div> <!-- /container -->

<script type="text/javascript">
    $(document).ready(function () {

        $("#search").keyup(function(event){
            if(event.keyCode == 13){
                $("#submit").click();
            }
        });

        $('#result-div').hide();
        $('#logo-small').hide();
        $('#logo-big').hide();

        $('#submit').click(function (e) {
            $('#logo-big').hide();
            $('#logo-text').hide();
            $('#logo-small').show();

            e.preventDefault();
            var name = $('#search').val();
            name=name.replace(new RegExp(" ", 'g'), "%20");
            $.get("index.html", function( data ) {
                //var temp_json = {"scores":{"Display":"3.50","Battery":"5.45","Performance":"4.50"},"articles":[{"url":"http://techcrunch.com/2013/09/17/iphone-5s-review-apple/","title":"iPhone 5s Review: Apple’s Latest Smartphone Goes For (And Gets) The Gold","articleScores":{"BATTERY":5.0,"DISPLAY":0.0,"PERFORMANCE":10.0}},{"url":"http://www.theguardian.com/technology/2013/sep/11/iphone-5s-review-apple-smartphone","title":"iPhone 5S – first impressions","articleScores":{"BATTERY":10.0,"DISPLAY":5.0,"PERFORMANCE":5.0}},{"url":"http://www.cnet.com/products/apple-iphone-5s/","title":"Same look, small screen, big potential","articleScores":{"BATTERY":8.75,"DISPLAY":5.0,"PERFORMANCE":5.0}},{"url":"http://www.ign.com/articles/2013/10/03/apple-iphone-5s-review","title":"APPLE IPHONE 5S REVIEW","articleScores":{"BATTERY":0.0,"DISPLAY":5.0,"PERFORMANCE":5.0}},{"url":"http://www.dailymail.co.uk/sciencetech/article-2205040/iPhone-5-review-Simply-best-smartphone-made.html","title":"'Bright, responsive and it just feels right': MailOnline's verdict on the iPhone 5 - simply the best smartphone ever made","articleScores":{"BATTERY":5.0,"DISPLAY":5.0,"PERFORMANCE":5.0}},{"url":"http://www.laptopmag.com/reviews/smartphones/apple-iphone5","title":"Apple iPhone 5 (Verizon Wireless) Review","articleScores":{"BATTERY":5.714285714285714,"DISPLAY":0.0,"PERFORMANCE":5.0}},{"url":"http://www.theverge.com/2012/9/21/3363238/iphone-5-review","title":"iPhone 5 review","articleScores":{"BATTERY":0.0,"DISPLAY":0.0,"PERFORMANCE":0.0}},{"url":"http://www.engadget.com/2013/09/17/iphone-5s-review/","title":"iPhone 5s review","articleScores":{"BATTERY":5.0,"DISPLAY":5.0,"PERFORMANCE":0.0}},{"url":"http://www.pocket-lint.com/review/123702-apple-iphone-5c-review","title":"Apple iPhone 5C review","articleScores":{"BATTERY":10.0,"DISPLAY":5.0,"PERFORMANCE":5.0}},{"url":"http://www.trustedreviews.com/apple-iphone-5_Mobile-Phone_review","title":"iPhone 5 review","articleScores":{"BATTERY":5.0,"DISPLAY":5.0,"PERFORMANCE":5.0}}],"bestCategory":null};
                var data_json = {"scores":{"Display":"3.50","Battery":"2.45","Performance":"4.50"},"articles":[{"url":"http://techcrunch.com/2013/09/17/iphone-5s-review-apple/","title":"iPhone 5s Review: Apple’s Latest Smartphone Goes For (And Gets) The Gold","articleScores":{"BATTERY":5.0,"DISPLAY":0.0,"PERFORMANCE":10.0}},{"url":"http://www.theguardian.com/technology/2013/sep/11/iphone-5s-review-apple-smartphone","title":"iPhone 5S – first impressions","articleScores":{"BATTERY":10.0,"DISPLAY":5.0,"PERFORMANCE":5.0}},{"url":"http://www.cnet.com/products/apple-iphone-5s/","title":"Same look, small screen, big potential","articleScores":{"BATTERY":8.75,"DISPLAY":5.0,"PERFORMANCE":5.0}},{"url":"http://www.ign.com/articles/2013/10/03/apple-iphone-5s-review","title":"APPLE IPHONE 5S REVIEW","articleScores":{"BATTERY":0.0,"DISPLAY":5.0,"PERFORMANCE":5.0}},{"url":"http://www.dailymail.co.uk/sciencetech/article-2205040/iPhone-5-review-Simply-best-smartphone-made.html","title":"'Bright, responsive and it just feels right': MailOnline's verdict on the iPhone 5 - simply the best smartphone ever made","articleScores":{"BATTERY":5.0,"DISPLAY":5.0,"PERFORMANCE":5.0}},{"url":"http://www.laptopmag.com/reviews/smartphones/apple-iphone5","title":"Apple iPhone 5 (Verizon Wireless) Review","articleScores":{"BATTERY":5.714285714285714,"DISPLAY":0.0,"PERFORMANCE":5.0}},{"url":"http://www.theverge.com/2012/9/21/3363238/iphone-5-review","title":"iPhone 5 review","articleScores":{"BATTERY":0.0,"DISPLAY":0.0,"PERFORMANCE":0.0}},{"url":"http://www.engadget.com/2013/09/17/iphone-5s-review/","title":"iPhone 5s review","articleScores":{"BATTERY":5.0,"DISPLAY":5.0,"PERFORMANCE":0.0}},{"url":"http://www.pocket-lint.com/review/123702-apple-iphone-5c-review","title":"Apple iPhone 5C review","articleScores":{"BATTERY":10.0,"DISPLAY":5.0,"PERFORMANCE":5.0}},{"url":"http://www.trustedreviews.com/apple-iphone-5_Mobile-Phone_review","title":"iPhone 5 review","articleScores":{"BATTERY":5.0,"DISPLAY":5.0,"PERFORMANCE":5.0}}],"bestCategory":null};;//JSON.parse(data);

                // set progress bars
                var pbBattery = document.getElementById('progress-battery');
                pbBattery.innerHTML = 'Battery: ' + data_json.scores.Battery;
                pbBattery.style.width = parseInt(data_json.scores.Battery*10)+'%';

                var pbDisplay = document.getElementById('progress-display');
                pbDisplay.innerHTML = 'Display: ' + data_json.scores.Display;
                pbDisplay.style.width = parseInt(data_json.scores.Display*10)+'%';

                var pbPerformance = document.getElementById('progress-performance');
                pbPerformance.innerHTML = 'Performance: ' + data_json.scores.Performance;
                pbPerformance.style.width = parseInt(data_json.scores.Performance*10)+'%';
                
                // fill article links
                var count = Object.keys(data_json.articles).length
                var container = document.getElementById('table-battery');
                for(var i=0; i<count; i++){
                    var art = data_json.articles[i];
                    var placeholder_html = '<tr><td><a href="'+art.url+'">'+art.title+
                            '</a></td><td>'+art.articleScores.BATTERY.toFixed(1)+' / 10</td></tr>';

                    container.innerHTML += placeholder_html;
                }

                container = document.getElementById('table-display');
                for(var i=0; i<count; i++){
                    var art = data_json.articles[i];
                    var placeholder_html = '<tr><td><a href="'+art.url+'">'+art.title+
                            '</a></td><td>'+art.articleScores.DISPLAY.toFixed(1)+' / 10</td></tr>';

                    container.innerHTML += placeholder_html;
                }

                container = document.getElementById('table-performance');
                for(var i=0; i<count; i++){
                    var art = data_json.articles[i];
                    var placeholder_html = '<tr><td><a href="'+art.url+'">'+art.title+
                            '</a></td><td>'+art.articleScores.PERFORMANCE.toFixed(1)+' / 10</td></tr>';

                    container.innerHTML += placeholder_html;
                }

                $('#result-div').show();
            });
        });
    });
</script>
</body>
</html>